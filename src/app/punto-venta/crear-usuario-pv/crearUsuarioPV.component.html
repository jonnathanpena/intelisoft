<div class="row">
  <div class="col-12">
    <div *ngFor="let alert of alerts">
      <ngb-alert [type]="alert.type" (close)="closeAlert(alert)">{{ alert.message }}</ngb-alert>
    </div>
  </div>
</div>

<div class="card">
    <div class="card-header">Crear Usuario Punto de Venta</div>
    <div class="card-body">
        <p>Formulario de nuevo usuario de punto de venta</p>
        <form class="form-horizontal" novalidate (submit)="guardar($event)">
          <div class="form-group row justify-content-md-center">
            <label for="example-text-input" class="col-2 col-form-label">Nombre Empresa Filial</label>
            <div class="col-4">
              <dx-text-box
                  class="form-control"
                  name="documento"
                  id="nombreEmpresa-pv"
                  [(value)]="nuevo.nombre_intemp">
                <dx-validator>
                  <dxi-validation-rule type="required" message="Nombre es requerido"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <label for="example-text-input" class="col-2 col-form-label">Nombre</label>
            <div class="col-4">
              <dx-text-box
                  class="form-control"
                  id="nombre-pv"
                  [(value)]="nuevo.nombre_intper">
                <dx-validator>
                  <dxi-validation-rule type="required" message="Nombre es requerido"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <label for="example-search-input" class="col-2 col-form-label">Apellido</label>
            <div class="col-4">
              <dx-text-box
                  class="form-control"
                  id="apellido-pv"
                  [(value)]="nuevo.apellido_intper">
                <dx-validator>
                  <dxi-validation-rule type="required" message="Apellido es requerido"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <label for="example-search-input" class="col-2 col-form-label">Cédula</label>
            <div class="col-4">
              <dx-text-box
                  class="form-control"
                  mode="number"
                  id="cedula-pv"
                  [(value)]="nuevo.cedula_intper">
                <dx-validator>
                  <dxi-validation-rule type="required" message="C.I. es requerida"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Provincia</label>
              <div class="col-4">
                <dx-select-box
                    [dataSource]="provincias"
                    displayExpr="nombre_intprov"
                    valueExpr="id_intprov"
                    (onValueChanged)="cambioProvincia($event)">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Provincia es requerida"></dxi-validation-rule>
                  </dx-validator>
                </dx-select-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Cantón</label>
              <div class="col-4">
                <dx-select-box
                    [dataSource]="cantones"
                    displayExpr="nombre_intcant"
                    valueExpr="id_intcant"
                    (onValueChanged)="cambioCanton($event)">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Cantón es requerido"></dxi-validation-rule>
                  </dx-validator>
                </dx-select-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Parroquia</label>
              <div class="col-4">
                <dx-text-box
                    class="form-control"
                    name="documento"
                    id="parroquia-pv"
                    [(value)]="nuevo.parroquia_intper">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Parroquia es requerida"></dxi-validation-rule>
                  </dx-validator>
                </dx-text-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Dirección</label>
              <div class="col-4">
                <dx-text-box
                    class="form-control"
                    name="documento"
                    id="direccion-pv"
                    [(value)]="nuevo.direccion_intper">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Dirección es requerida"></dxi-validation-rule>
                  </dx-validator>
                </dx-text-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Teléfono</label>
              <div class="col-4">
                <dx-text-box
                    class="form-control"
                    name="documento"
                    mask="(X0)0000000"
                    [maskRules]="phoneRules"
                    id="telefono-pv"
                    [(value)]="nuevo.telefono_intper">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Teléfono es requerido"></dxi-validation-rule>
                  </dx-validator>
                </dx-text-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
              <label for="example-search-input" class="col-2 col-form-label">Usuario</label>
              <div class="col-4">
                <dx-text-box
                    class="form-control"
                    id="usuario-pv"
                    [(value)]="nuevo.usuario_intusu">
                  <dx-validator>
                    <dxi-validation-rule type="required" message="Usuario es requerido"></dxi-validation-rule>
                  </dx-validator>
                </dx-text-box>
              </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <label for="example-email-input" class="col-2 col-form-label">Correo</label>
            <div class="col-4">
              <dx-text-box
                  class="form-control"
                  mode="email"
                  id="correo-pv"
                  [(value)]="nuevo.correo_intper">
                <dx-validator>
                  <dxi-validation-rule type="email" message="No cumple con el formato email"></dxi-validation-rule>
                  <dxi-validation-rule type="required" message="Email es requerido"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <label for="example-email-input" class="col-2 col-form-label">Comisión</label>
            <div class="col-4">
              <dx-text-box
                  mode="float"
                  class="form-control"
                  id="comision-pv"
                  [(value)]="nuevo.comision_intemp">
                <dx-validator>
                  <dxi-validation-rule type="required" message="Comisión es requerida"></dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
          <div class="form-group row justify-content-md-center">
            <dx-button
                (click)="cancelar()"
                class="btn btn-cancelar pull-right"
                text="Cancelar"
                style="margin-right: 5px;"
                [disabled]="guardando">
            </dx-button>
            <dx-button
                text="Registrar"
                class="btn btn-primary pull-right"
                [useSubmitBehavior]="true"
                [disabled]="guardando">
            </dx-button>
          </div>
        </form>
    </div>
  </div>
